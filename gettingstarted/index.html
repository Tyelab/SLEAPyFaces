<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Getting Started - SLEAPyFaces Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Getting Started";
        var mkdocs_page_input_path = "gettingstarted.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> SLEAPyFaces Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="./">Getting Started</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#table-of-contents">Table of Contents</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#using-pip">Using pip:</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#using-conda-coming-soon">Using conda (coming soon):</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#basic-usage-step-by-step">Basic Usage Step by Step</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#importing-the-package">Importing the package</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#creating-a-project">Creating a project</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#building-the-data">Building the data</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#building-the-trials">Building the trials</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#normalizing-the-data">Normalizing the data</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#complete-example">Complete Example</a>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../projectstructure/">Project Structure</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../api/">API Reference</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../changelog/">Change Log</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">SLEAPyFaces Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" alt="Docs"></a> &raquo;</li>
      <li>Getting Started</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="getting-started">Getting Started</h1>
<hr />
<h2 id="table-of-contents">Table of Contents</h2>
<ul>
<li><a href="#getting-started">Getting Started</a><ul>
<li><a href="#table-of-contents">Table of Contents</a></li>
<li><a href="#installation">Installation</a><ul>
<li><a href="#using-pip">Using pip:</a></li>
<li><a href="#using-conda-coming-soon">Using conda (coming soon):</a></li>
</ul>
</li>
<li><a href="#basic-usage-step-by-step">Basic Usage Step by Step</a><ul>
<li><a href="#importing-the-package">Importing the package</a></li>
<li><a href="#creating-a-project">Creating a project</a></li>
<li><a href="#building-the-data">Building the data</a></li>
<li><a href="#building-the-trials">Building the trials</a></li>
<li><a href="#normalizing-the-data">Normalizing the data</a></li>
</ul>
</li>
<li><a href="#complete-example">Complete Example</a></li>
</ul>
</li>
</ul>
<h2 id="installation">Installation</h2>
<h3 id="using-pip">Using pip:</h3>
<pre><code class="language-console">pip install sleapyfaces
</code></pre>
<h3 id="using-conda-coming-soon">Using conda (coming soon):</h3>
<pre><code class="language-console">conda install -c conda-forge sleapyfaces
</code></pre>
<hr />
<h2 id="basic-usage-step-by-step">Basic Usage Step by Step</h2>
<h3 id="importing-the-package">Importing the package</h3>
<p>For <strong>basic</strong> usage, the package can be imported with the following:</p>
<pre><code class="language-python">from sleapyfaces.project import Project
</code></pre>
<p>Alternatively, the package can be imported with the following:</p>
<pre><code class="language-python">import sleapyfaces as sf
</code></pre>
<h3 id="creating-a-project">Creating a project</h3>
<p>The project object is the basis for the data analysis. It serves as a container for all of the data produced from a series of experiments, and allows a root object to be created for the data analysis. The project object is initialized with a series of file or file glob patterns, which are used to find the files associated with each experiment. The project object also requires a base path, which is the root directory for the project. The project object can be initialized with the optional <code>get_glob</code> argument set to <code>True</code>, which will automatically find the files associated with each experiment. Alternatively, the <code>get_glob</code> argument can be set to <code>False</code> (default), which will allow the user to manually set the files associated with each experiment as the file arguments. Additionally, there is an <code>iterators</code> argument, which is a dictionary of iterators that can be used to iterate over the project structure. The <code>iterators</code> argument is optional, and if not provided, the project object will assume that the project follows a specific structure.</p>
<p><strong>Without iterators + with glob:</strong></p>
<pre><code class="language-python">project = Project(
    DAQFile=&quot;*.csv&quot;,
    BehFile=&quot;*.json&quot;,
    SLEAPFile=&quot;*.h5&quot;,
    VideoFile=&quot;*.mp4&quot;,
    base=&quot;/base/path/to/project&quot;,
    get_glob= True
    )
</code></pre>
<p><strong>With iterators + without glob:</strong></p>
<pre><code class="language-python">project = Project(
    DAQFile=&quot;DAQOutput.csv&quot;,
    BehFile=&quot;ExperimentMetadata.json&quot;,
    SLEAPFile=&quot;SLEAPAnalysis.h5&quot;,
    VideoFile=&quot;FacialVideo.mp4&quot;,
    base=&quot;/base/path/to/project&quot;,
    iterators={
        &quot;Label 1&quot;: &quot;/relative/path/to/week1&quot;,
        &quot;Label 2&quot;: &quot;/relative/path/to/week2&quot;,
        &quot;Label 3&quot;: &quot;/relative/path/to/week3&quot;,
        &quot;Label 4&quot;: &quot;/relative/path/to/week4&quot;,
        ...
        }
    }
    )
</code></pre>
<blockquote>
<p>The <code>iterators</code> paths are relative to the <code>base</code> path. If no iterators are provided, the project object will assume that the project follows the default structure outlined below. The default labels then are <code>"week 1", "week 2", "week 3", "week 4", ...</code>.</p>
</blockquote>
<h3 id="building-the-data">Building the data</h3>
<p>The project object has a <code>buildColumns</code> method, which is used to build the columns of the data. The <code>buildColumns</code> method takes two arguments: <code>columns</code> and <code>values</code>. The <code>columns</code> argument is a list of column titles, and the <code>values</code> argument is a list of values for each column. The <code>buildColumns</code> method will build the columns of the data, and will also build the iterators for each column. The <code>buildColumns</code> method can be called multiple times, and each time it is called, it will add a new column to the data.</p>
<pre><code class="language-python">project.buildColumns(
    columns=[&quot;Mouse&quot;],
    values=[&quot;CSE008&quot;]
    )
</code></pre>
<h3 id="building-the-trials">Building the trials</h3>
<p>The project object has a <code>buildTrials</code> method, which is used to build the trials of the data. The <code>buildTrials</code> method takes four arguments: <code>TrackedData</code>, <code>Reduced</code>, <code>start_buffer</code>, and <code>end_buffer</code>. The <code>TrackedData</code> argument is a list of the tracked data columns from the DAQ file that will be used to build the based on the DAQ timestamps. The <code>Reduced</code> argument is a list of boolean values, which indicate whether the tracked data should be reduced to a single value for each trial. This is used in this example for the <code>"LED590_on"</code> column, as the LED turns on and off multiple times during the experiment. To keep the <code>trialData</code> from intitializing a new trial for each timestamp in the <code>"LED590_on"</code> column, reduced is set to true. The <code>start_buffer</code> argument is the <em>number of milliseconds before</em> the <strong>trial start time</strong> that should be included in the trial. The <code>end_buffer</code> argument is the <em>number of milliseconds after</em> the <strong>trial start time</strong> that should be included in the trial. The <code>buildTrials</code> method will build the trials of the data, and will also build the iterators for each trial. The <code>buildTrials</code> method can be called multiple times, and each time it is called, it will rebuild the trials of the data. This is useful if you want to build the trials based on different tracked data columns, or if you want to change the start and end buffers.</p>
<pre><code class="language-python">project.buildTrials(
    TrackedData=[&quot;Speaker_on&quot;, &quot;LED590_on&quot;],
    Reduced=[False, True],
    start_buffer=10000,
    end_buffer=13000
    )
</code></pre>
<h3 id="normalizing-the-data">Normalizing the data</h3>
<p>So far there are two normalization methods available:</p>
<ul>
<li>Mean Centering</li>
</ul>
<p>The <code>meanCenter</code> method will iterate recursively to the smallest data frame in the project, and then mean-center its way up the project tree. More precisely, the <code>meanCenter</code> method first mean centers each trial from each experiment. Then, it will <code>meanCenter</code> each experiment in the project. Finally, it will <code>meanCenter</code> across all the experiments in the project. This method will mean-center the data in place, and will not return anything. However, it does expose a <code>all_data</code> attribute, which is a <code>pd.DataFrame</code> of all the data in the project.</p>
<pre><code class="language-python">project.meanCenter()
</code></pre>
<ul>
<li>Z-Scoring</li>
</ul>
<p>The <code>zScore</code> method assumes the data has already been mean-centered, and will further z-score the data across all the experiments in the project.</p>
<p>The <code>zScore</code> method will iterate recursively to the smallest data frame in the project, and then z-score its way up the project tree. This method will z-score the data in place, and will not return anything.</p>
<pre><code class="language-python">project.zScore()
</code></pre>
<p><strong>For convenience, you can also normalize the data in one step:</strong></p>
<pre><code class="language-python">project.analyze()
</code></pre>
<hr />
<h2 id="complete-example">Complete Example</h2>
<p><strong>This implementation of the data objects is roughly 10x faster than the scripted version of the data analysis. The full example is shown below:</strong></p>
<pre><code class="language-python">from sleapyfaces.project import Project

project = Project(
    DAQFile=&quot;*.csv&quot;,
    BehFile=&quot;*.json&quot;,
    SLEAPFile=&quot;*.h5&quot;,
    VideoFile=&quot;*.mp4&quot;,
    base=&quot;/base/path/to/project&quot;,
    get_glob= True
    )

project.buildColumns(
    columns=[&quot;Mouse&quot;],
    values=[&quot;CSE008&quot;]
    )

project.buildTrials(
    TrackedData=[&quot;Speaker_on&quot;, &quot;LED590_on&quot;],
    Reduced=[False, True],
    start_buffer=10000,
    end_buffer=13000
    )

project.analyze()

project.visualize()

data = project.pcas[&quot;pca3d&quot;]

</code></pre>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href=".." class="btn btn-neutral float-left" title="Home"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../projectstructure/" class="btn btn-neutral float-right" title="Project Structure">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href=".." style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../projectstructure/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
